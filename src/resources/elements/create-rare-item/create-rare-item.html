<template>
    <div id="create-rare-item" class="row">
        <div class="col-6">
            <div class="row">
                <div class="col-12">
                    <mdc-text-field
                        class="w-100 mb-4"
                        label="Name"
                        value.bind="item.name"
                        outlined.bind="true"
                    ></mdc-text-field>
                </div>
                <div class="col-6 mb-3">
                    <mdc-select
                        label="Item Category"
                        value.bind="item.category"
                        anchor-margin.bind="{top: 10}"
                        outlined.bind="standardSelectOutlined"
                        class="w-100 mb-3"
                        change.delegate="handleCategoryChange()"
                    >
                        <mdc-list>
                            <mdc-list-item></mdc-list-item>
                            <mdc-list-item repeat.for="category of itemCategories" value.bind="category">${category | pascalCase}</mdc-list-item>
                        </mdc-list>
                    </mdc-select>
                </div>
                <div class="col-6 mb-3">
                    <mdc-select
                        label="Item Subcategory"
                        value.bind="item.subCategory"
                        anchor-margin.bind="{top: 10}"
                        outlined.bind="standardSelectOutlined"
                        class="w-100"
                        if.bind="item.category"
                    >
                        <mdc-list>
                            <mdc-list-item></mdc-list-item>
                            <mdc-list-item repeat.for="subCategory of subCategories" value.bind="subCategory">${subCategory}</mdc-list-item>
                        </mdc-list>
                    </mdc-select>
                </div>
                <div class="col-6">
                    <mdc-text-field
                        class="w-100 mb-4"
                        type="number"
                        label="Durability"
                        value.bind="item.durability"
                        outlined.bind="true"
                    ></mdc-text-field>
                </div>
                <div class="col-6">
                    <mdc-text-field
                        class="w-100 mb-4"
                        type="number"
                        label="Max Durability"
                        value.bind="item.maxDurability"
                        outlined.bind="true"
                    ></mdc-text-field>
                </div>
                <div class="col-4">
                    <mdc-text-field
                        class="w-100 mb-4"
                        type="number"
                        label="Defence (After Modifiers)"
                        value.bind="item.defence"
                        outlined.bind="true"
                    ></mdc-text-field>
                </div>
                <div class="col-4">
                    <mdc-text-field
                        class="w-100 mb-4"
                        type="number"
                        label="Min Damage"
                        value.bind="item.minDamage"
                        outlined.bind="true"
                    ></mdc-text-field>
                </div>
                <div class="col-4">
                    <mdc-text-field
                        class="w-100 mb-4"
                        type="number"
                        label="Max Damage"
                        value.bind="item.maxDamage"
                        outlined.bind="true"
                    ></mdc-text-field>
                </div>
                <div class="col-4">
                    <mdc-text-field
                        class="w-100 mb-4"
                        type="number"
                        label="Strength Requirement"
                        value.bind="item.strengthRequirement"
                        outlined.bind="true"
                    ></mdc-text-field>
                </div>
                <div class="col-4">
                    <mdc-text-field
                        class="w-100 mb-4"
                        type="number"
                        label="Dexterity Requirement"
                        value.bind="item.dexterityRequirement"
                        outlined.bind="true"
                    ></mdc-text-field>
                </div>
                <div class="col-4">
                    <mdc-text-field
                        class="w-100 mb-4"
                        type="number"
                        label="Level Requirement"
                        value.bind="item.levelRequirement"
                        outlined.bind="true"
                    ></mdc-text-field>
                </div>
                <div class="col-4">
                    <mdc-text-field
                        class="w-100 mb-4"
                        type="number"
                        label="Item Level"
                        value.bind="item.itemLevel"
                        outlined.bind="true"
                    ></mdc-text-field>
                </div>
                <div class="col-4">
                    <mdc-text-field
                        class="w-100 mb-4"
                        type="number"
                        label="Total Sockets"
                        value.bind="item.totalSockets"
                        outlined.bind="true"
                    ></mdc-text-field>
                </div>
            </div>
        </div>
        <div class="col-6">
            <stat-selector placeholder="+ Add Stat"></stat-selector>
            <div class="row mt-3" repeat.for="stat of item.stats">
                <div class="col-7">
                    <span class="d-flex align-items-center h-100">${stat.displayName | statReplacer:stat.value}</span>
                </div>
                <div class="col-4">
                    <mdc-text-field
                        type="number"
                        label="Value"
                        value.bind="stat.value"
                        outlined.bind="true"
                    ></mdc-text-field>
                </div>
                <div class="col-1">
                    <span class="material-icons d-flex align-items-center h-100 cursor-pointer" click.delegate="removeItemStat(stat)">
                        close
                    </span>
                </div>
            </div>
        </div>
        <div class="item-area">
            <item-viewer item.bind="item"></item-viewer>
        </div>
    </div>
</template>
